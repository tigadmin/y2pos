{"remainingRequest":"/Users/tigadmin/WEB/Webstorm-Projects/yumaspos-2021-v2/node_modules/babel-loader/lib/index.js!/Users/tigadmin/WEB/Webstorm-Projects/yumaspos-2021-v2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tigadmin/WEB/Webstorm-Projects/yumaspos-2021-v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tigadmin/WEB/Webstorm-Projects/yumaspos-2021-v2/node_modules/vue-videobg/src/VideoBackground.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tigadmin/WEB/Webstorm-Projects/yumaspos-2021-v2/node_modules/vue-videobg/src/VideoBackground.vue","mtime":1630411556681},{"path":"/Users/tigadmin/WEB/Webstorm-Projects/yumaspos-2021-v2/node_modules/cache-loader/dist/cjs.js","mtime":1630411548299},{"path":"/Users/tigadmin/WEB/Webstorm-Projects/yumaspos-2021-v2/node_modules/babel-loader/lib/index.js","mtime":1630411547684},{"path":"/Users/tigadmin/WEB/Webstorm-Projects/yumaspos-2021-v2/node_modules/cache-loader/dist/cjs.js","mtime":1630411548299},{"path":"/Users/tigadmin/WEB/Webstorm-Projects/yumaspos-2021-v2/node_modules/vue-loader/lib/index.js","mtime":1630411556431}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHNvdXJjZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaW1nOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpZGVvUmF0aW86IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLnNldEltYWdlVXJsKCk7CiAgICB0aGlzLnNldENvbnRhaW5lckhlaWdodCgpOwoKICAgIGlmICh0aGlzLnZpZGVvQ2FuUGxheSgpKSB7CiAgICAgIHRoaXMuJHJlZnMudmlkZW8ub25jYW5wbGF5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghX3RoaXMuJHJlZnMudmlkZW8pIHJldHVybjsKICAgICAgICBfdGhpcy52aWRlb1JhdGlvID0gX3RoaXMuJHJlZnMudmlkZW8udmlkZW9XaWR0aCAvIF90aGlzLiRyZWZzLnZpZGVvLnZpZGVvSGVpZ2h0OwoKICAgICAgICBfdGhpcy5zZXRWaWRlb1NpemUoKTsKCiAgICAgICAgX3RoaXMuJHJlZnMudmlkZW8uc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsKICAgICAgfTsKICAgIH0KCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgdGhpcy5zZXRDb250YWluZXJIZWlnaHQoKTsKCiAgICAgIGlmICh0aGlzLnZpZGVvQ2FuUGxheSgpKSB7CiAgICAgICAgdGhpcy5zZXRWaWRlb1NpemUoKTsKICAgICAgfQogICAgfSwKICAgIHZpZGVvQ2FuUGxheTogZnVuY3Rpb24gdmlkZW9DYW5QbGF5KCkgewogICAgICByZXR1cm4gISF0aGlzLiRyZWZzLnZpZGVvLmNhblBsYXlUeXBlOwogICAgfSwKICAgIHNldEltYWdlVXJsOiBmdW5jdGlvbiBzZXRJbWFnZVVybCgpIHsKICAgICAgaWYgKHRoaXMuaW1nKSB7CiAgICAgICAgdGhpcy4kZWwuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gInVybCgiLmNvbmNhdCh0aGlzLmltZywgIikiKTsKICAgICAgfQogICAgfSwKICAgIHNldENvbnRhaW5lckhlaWdodDogZnVuY3Rpb24gc2V0Q29udGFpbmVySGVpZ2h0KCkgewogICAgICB0aGlzLiRlbC5zdHlsZS5oZWlnaHQgPSAiIi5jb25jYXQod2luZG93LmlubmVySGVpZ2h0LCAicHgiKTsKICAgIH0sCiAgICBzZXRWaWRlb1NpemU6IGZ1bmN0aW9uIHNldFZpZGVvU2l6ZSgpIHsKICAgICAgdmFyIHdpZHRoLAogICAgICAgICAgaGVpZ2h0LAogICAgICAgICAgY29udGFpbmVyUmF0aW8gPSB0aGlzLiRlbC5vZmZzZXRXaWR0aCAvIHRoaXMuJGVsLm9mZnNldEhlaWdodDsKCiAgICAgIGlmIChjb250YWluZXJSYXRpbyA+IHRoaXMudmlkZW9SYXRpbykgewogICAgICAgIHdpZHRoID0gdGhpcy4kZWwub2Zmc2V0V2lkdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaGVpZ2h0ID0gdGhpcy4kZWwub2Zmc2V0SGVpZ2h0OwogICAgICB9CgogICAgICB0aGlzLiRyZWZzLnZpZGVvLnN0eWxlLndpZHRoID0gd2lkdGggPyAiIi5jb25jYXQod2lkdGgsICJweCIpIDogJ2F1dG8nOwogICAgICB0aGlzLiRyZWZzLnZpZGVvLnN0eWxlLmhlaWdodCA9IGhlaWdodCA/ICIiLmNvbmNhdChoZWlnaHQsICJweCIpIDogJ2F1dG8nOwogICAgfSwKICAgIGdldE1lZGlhVHlwZTogZnVuY3Rpb24gZ2V0TWVkaWFUeXBlKHNyYykgewogICAgICByZXR1cm4gJ3ZpZGVvLycgKyBzcmMuc3BsaXQoJy4nKS5wb3AoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["VideoBackground.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAaA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AALA,GADA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAGA,GAfA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA,SAAA,WAAA;AACA,SAAA,kBAAA;;AAEA,QAAA,KAAA,YAAA,EAAA,EAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,SAAA,GAAA,YAAA;AACA,YAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,EAAA;AAEA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,WAAA;;AACA,QAAA,KAAA,CAAA,YAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA,SAAA;AACA,OANA;AAOA;;AAEA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,MAAA;AACA,GAhCA;AAkCA,EAAA,aAlCA,2BAkCA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,MAAA;AACA,GApCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,kBAAA;;AAEA,UAAA,KAAA,YAAA,EAAA,EAAA;AACA,aAAA,YAAA;AACA;AACA,KAPA;AASA,IAAA,YATA,0BASA;AACA,aAAA,CAAA,CAAA,KAAA,KAAA,CAAA,KAAA,CAAA,WAAA;AACA,KAXA;AAaA,IAAA,WAbA,yBAaA;AACA,UAAA,KAAA,GAAA,EAAA;AACA,aAAA,GAAA,CAAA,KAAA,CAAA,eAAA,iBAAA,KAAA,GAAA;AACA;AACA,KAjBA;AAmBA,IAAA,kBAnBA,gCAmBA;AACA,WAAA,GAAA,CAAA,KAAA,CAAA,MAAA,aAAA,MAAA,CAAA,WAAA;AACA,KArBA;AAuBA,IAAA,YAvBA,0BAuBA;AACA,UAAA,KAAA;AAAA,UAAA,MAAA;AAAA,UAAA,cAAA,GAAA,KAAA,GAAA,CAAA,WAAA,GAAA,KAAA,GAAA,CAAA,YAAA;;AAEA,UAAA,cAAA,GAAA,KAAA,UAAA,EAAA;AACA,QAAA,KAAA,GAAA,KAAA,GAAA,CAAA,WAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,GAAA,KAAA,GAAA,CAAA,YAAA;AACA;;AAEA,WAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,GAAA,KAAA,aAAA,KAAA,UAAA,MAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,GAAA,MAAA,aAAA,MAAA,UAAA,MAAA;AACA,KAlCA;AAoCA,IAAA,YApCA,wBAoCA,GApCA,EAoCA;AACA,aAAA,WAAA,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,GAAA,EAAA;AACA;AAtCA;AAtCA,CAAA","sourcesContent":["<template>\n  <section class=\"VideoBg\">\n    <video autoplay loop muted ref=\"video\">\n      <source v-for=\"source in sources\" :src=\"source\" :type=\"getMediaType(source)\">\n    </video>\n    <div class=\"VideoBg__content\">\n      <slot></slot>\n    </div>\n  </section>\n</template>\n\n\n<script>\n  export default {\n    props: {\n      sources: {\n        type: Array,\n        required: true\n      },\n      img: {\n        type: String\n      }\n    },\n\n    data () {\n      return {\n        videoRatio: null\n      }\n    },\n\n    mounted () {\n      this.setImageUrl()\n      this.setContainerHeight()\n\n      if (this.videoCanPlay()) {\n        this.$refs.video.oncanplay = () => {\n          if (!this.$refs.video) return\n\n          this.videoRatio = this.$refs.video.videoWidth / this.$refs.video.videoHeight\n          this.setVideoSize()\n          this.$refs.video.style.visibility = 'visible'\n        }\n      }\n\n      window.addEventListener('resize', this.resize)\n    },\n\n    beforeDestroy () {\n      window.removeEventListener('resize', this.resize)\n    },\n\n    methods: {\n      resize () {\n        this.setContainerHeight()\n\n        if (this.videoCanPlay()) {\n          this.setVideoSize()\n        }\n      },\n\n      videoCanPlay () {\n        return !!this.$refs.video.canPlayType\n      },\n\n      setImageUrl () {\n        if (this.img) {\n          this.$el.style.backgroundImage = `url(${this.img})`\n        }\n      },\n\n      setContainerHeight () {\n        this.$el.style.height = `${window.innerHeight}px`\n      },\n\n      setVideoSize () {\n        var width, height, containerRatio = this.$el.offsetWidth / this.$el.offsetHeight\n\n        if (containerRatio > this.videoRatio) {\n          width = this.$el.offsetWidth\n        } else {\n          height = this.$el.offsetHeight\n        }\n\n        this.$refs.video.style.width = width ? `${width}px` : 'auto'\n        this.$refs.video.style.height = height ? `${height}px` : 'auto'\n      },\n\n      getMediaType (src) {\n        return 'video/' + src.split('.').pop()\n      }\n    }\n  }\n</script>\n\n\n<style>\n  .VideoBg {\n    position: relative;\n    background-size: cover;\n    background-position: center;\n    overflow: hidden;\n  }\n\n  .VideoBg video {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    visibility: hidden;\n    transform: translate(-50%, -50%);\n  }\n\n  .VideoBg__content {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n</style>\n"],"sourceRoot":"node_modules/vue-videobg/src"}]}